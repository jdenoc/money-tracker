# .github/actions/setup-docker/action.yml
name: Docker Setup
description: build docker containers for use while testing
inputs:
  host_ip:
    description: 'IP address of host machine using docker'
    required: true
runs:
  using: composite
  steps:
    - run: DISABLE_XDEBUG=true docker-compose -f .docker/docker-compose.yml -p "moneytracker" up -d
      env:
        DOCKER_HOST_IP: $INPUT_HOST_IP
      shell: bash
    - run: docker container exec -t mysql.money-tracker iterate-mysql-health-check
      shell: bash
    - run: docker container ls -a
      shell: bash

branding:
  icon: package
  color: blue